<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KYC æµ‹è¯•é¡µé¢</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f7fa;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            color: #303133;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #ebeef5;
            border-radius: 6px;
        }
        
        .test-section h3 {
            color: #409EFF;
            margin-top: 0;
        }
        
        .test-button {
            background-color: #409EFF;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        
        .test-button:hover {
            background-color: #337ecc;
        }
        
        .iframe-container {
            width: 100%;
            height: 600px;
            border: 1px solid #dcdfe6;
            border-radius: 6px;
            overflow: hidden;
            margin-top: 20px;
        }
        
        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        
        .device-simulator {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }
        
        .device {
            flex: 1;
            text-align: center;
        }
        
        .device h4 {
            margin-bottom: 10px;
            color: #606266;
        }
        
        .device iframe {
            width: 375px;
            height: 667px;
            border: 2px solid #333;
            border-radius: 20px;
            background: #000;
            padding: 10px;
        }
        
        .features-list {
            list-style: none;
            padding: 0;
        }
        
        .features-list li {
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .features-list li:before {
            content: "âœ“";
            color: #67c23a;
            font-weight: bold;
            margin-right: 8px;
        }
        
        .status {
            padding: 10px;
            margin-top: 10px;
            border-radius: 4px;
            background-color: #f0f9ff;
            border: 1px solid #b3d8ff;
            color: #409EFF;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” BITDU KYC H5 èº«ä»½è®¤è¯é¡µé¢</h1>
        
        <div class="test-section">
            <h3>ğŸ“± åŠŸèƒ½ç‰¹æ€§</h3>
            <ul class="features-list">
                <li>æ”¯æŒæœç´¢çš„å›½å®¶/åœ°åŒºé€‰æ‹©å™¨ï¼Œæ˜¾ç¤ºå›½æ——å›¾æ ‡</li>
                <li>å¤šç§è¯ä»¶ç±»å‹æ”¯æŒï¼šæŠ¤ç…§ã€èº«ä»½è¯ã€é©¾é©¶è¯ã€æ°¸ä¹…å±…ç•™è¯</li>
                <li>åŠ¨æ€è¯ä»¶ç…§ç‰‡ä¸Šä¼ è¦æ±‚</li>
                <li>å®æ—¶è¡¨å•éªŒè¯å’Œé”™è¯¯æç¤º</li>
                <li>ç§»åŠ¨ç«¯ä¼˜åŒ–çš„å“åº”å¼è®¾è®¡</li>
                <li>å¤šæ­¥éª¤è¡¨å•æµç¨‹</li>
                <li>æ”¯æŒ WebView é›†æˆ</li>
            </ul>
        </div>
        
        <div class="test-section">
            <h3>ğŸš€ å¿«é€Ÿæµ‹è¯•</h3>
            <button class="test-button" onclick="openKYC()">æ‰“å¼€ KYC é¡µé¢</button>
            <button class="test-button" onclick="openKYCInFrame()">åœ¨æ¡†æ¶ä¸­é¢„è§ˆ</button>
            <button class="test-button" onclick="simulateMobile()">ç§»åŠ¨ç«¯æ¨¡æ‹Ÿ</button>
            <button class="test-button" onclick="testWithData()">é¢„å¡«å……æ•°æ®æµ‹è¯•</button>
        </div>
        
        <div class="test-section">
            <h3>ğŸ“‹ æµ‹è¯•æ­¥éª¤</h3>
            <ol>
                <li><strong>æ­¥éª¤1ï¼š</strong>é€‰æ‹©å±…ä½å›½å®¶æˆ–åœ°åŒºï¼ˆæ”¯æŒæœç´¢ï¼‰</li>
                <li><strong>æ­¥éª¤2ï¼š</strong>é€‰æ‹©è¯ä»¶ç±»å‹å¹¶å¡«å†™ä¸ªäººä¿¡æ¯</li>
                <li><strong>æ­¥éª¤3ï¼š</strong>æ ¹æ®è¯ä»¶ç±»å‹ä¸Šä¼ ç›¸åº”ç…§ç‰‡</li>
                <li><strong>æ­¥éª¤4ï¼š</strong>ç¡®è®¤ä¿¡æ¯å¹¶æäº¤</li>
            </ol>
        </div>
        
        <div class="test-section">
            <h3>ğŸ”§ é›†æˆè¯´æ˜</h3>
            <p><strong>Android WebView é›†æˆï¼š</strong></p>
            <pre style="background: #f8f9fa; padding: 15px; border-radius: 4px; overflow-x: auto;">
// åœ¨ Android ä¸­åŠ è½½ KYC é¡µé¢
webView.loadUrl("file:///android_asset/kyc-h5.html");

// ç›‘å¬æ¥è‡ª H5 çš„æ¶ˆæ¯
webView.addJavascriptInterface(new Object() {
    @JavascriptInterface
    public void onKYCSubmitSuccess(String data) {
        // å¤„ç† KYC æäº¤æˆåŠŸ
    }
}, "Android");
            </pre>
            
            <p><strong>JavaScript Bridge é€šä¿¡ï¼š</strong></p>
            <pre style="background: #f8f9fa; padding: 15px; border-radius: 4px; overflow-x: auto;">
// H5 å‘åŸç”Ÿå‘é€æ¶ˆæ¯
window.parent.postMessage({
    type: 'KYC_SUBMIT_SUCCESS',
    data: formData
}, '*');

// åŸç”Ÿå‘ H5 å‘é€åˆå§‹æ•°æ®
window.postMessage({
    type: 'INIT_KYC_DATA',
    userData: { firstName: 'John', lastName: 'Doe' }
}, '*');
            </pre>
        </div>
        
        <div id="preview-container" style="display: none;">
            <div class="test-section">
                <h3>ğŸ“± é¡µé¢é¢„è§ˆ</h3>
                <div class="iframe-container">
                    <iframe id="kyc-frame" src=""></iframe>
                </div>
            </div>
        </div>
        
        <div id="mobile-simulator" style="display: none;">
            <div class="test-section">
                <h3>ğŸ“± ç§»åŠ¨ç«¯æ¨¡æ‹Ÿå™¨</h3>
                <div class="device-simulator">
                    <div class="device">
                        <h4>iPhone (375x667)</h4>
                        <iframe src="kyc-h5.html"></iframe>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="status" id="status">
            âœ… KYC H5 é¡µé¢å·²å‡†å¤‡å°±ç»ªï¼Œå¯ä»¥å¼€å§‹æµ‹è¯•ï¼
        </div>
    </div>

    <script>
        function openKYC() {
            window.open('kyc-h5.html', '_blank');
        }
        
        function openKYCInFrame() {
            const container = document.getElementById('preview-container');
            const frame = document.getElementById('kyc-frame');
            
            if (container.style.display === 'none') {
                container.style.display = 'block';
                frame.src = 'kyc-h5.html';
                updateStatus('ğŸ“± KYC é¡µé¢å·²åœ¨æ¡†æ¶ä¸­åŠ è½½');
            } else {
                container.style.display = 'none';
                updateStatus('âœ… æ¡†æ¶é¢„è§ˆå·²å…³é—­');
            }
        }
        
        function simulateMobile() {
            const simulator = document.getElementById('mobile-simulator');
            
            if (simulator.style.display === 'none') {
                simulator.style.display = 'block';
                updateStatus('ğŸ“± ç§»åŠ¨ç«¯æ¨¡æ‹Ÿå™¨å·²å¯åŠ¨');
            } else {
                simulator.style.display = 'none';
                updateStatus('âœ… ç§»åŠ¨ç«¯æ¨¡æ‹Ÿå™¨å·²å…³é—­');
            }
        }
        
        function testWithData() {
            // æ‰“å¼€æ–°çª—å£å¹¶å‘é€æµ‹è¯•æ•°æ®
            const kycWindow = window.open('kyc-h5.html', '_blank');
            
            // ç­‰å¾…é¡µé¢åŠ è½½åå‘é€æ•°æ®
            setTimeout(() => {
                kycWindow.postMessage({
                    type: 'INIT_KYC_DATA',
                    userData: {
                        firstName: 'John',
                        lastName: 'Doe',
                        country: 'US'
                    }
                }, '*');
            }, 2000);
            
            updateStatus('ğŸ§ª å·²æ‰“å¼€é¢„å¡«å……æ•°æ®çš„æµ‹è¯•é¡µé¢');
        }
        
        function updateStatus(message) {
            document.getElementById('status').innerHTML = message;
        }
        
        // ç›‘å¬æ¥è‡ª KYC é¡µé¢çš„æ¶ˆæ¯
        window.addEventListener('message', function(event) {
            if (event.data.type === 'KYC_SUBMIT_SUCCESS') {
                updateStatus('ğŸ‰ KYC æäº¤æˆåŠŸï¼æ•°æ®ï¼š' + JSON.stringify(event.data.data, null, 2));
                console.log('KYC æäº¤æ•°æ®ï¼š', event.data.data);
            }
        });
        
        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            updateStatus('âœ… KYC H5 é¡µé¢å·²å‡†å¤‡å°±ç»ªï¼Œå¯ä»¥å¼€å§‹æµ‹è¯•ï¼');
        });
    </script>
</body>
</html>
